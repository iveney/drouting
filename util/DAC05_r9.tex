\documentclass[a4paper,12pt]{article}
\usepackage[colorlinks=false,pdfborder=000]{hyperref}
\usepackage[top=1.2in, bottom=1.2in, left=1.2in, right=1.2in]{geometry}
\usepackage[dvips]{graphicx,color}
\usepackage{times}
\usepackage{tikz}
\usepackage{fp}
\usetikzlibrary {snakes,arrows}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\scale{0.7}
\def\half{0.5}
\providecommand{\blockage}[4]{%
    \fill[block] (#1,#2) rectangle (#3+1,#4+1);
}
\providecommand{\drawrowcol}[2]{
    % enumerate the row and column
    \FPset{\row}{#1}
    \FPadd{\row}{\row}{-1}
    \foreach \r in {0,...,\row}
        \node at (0-\half,\r+\half) {\r} ;
    \FPset{\col}{#2}
    \FPadd{\col}{\col}{-1}
    \foreach \c in {0,...,\col}
        \node at (\c+\half,0-\half) {\c} ;
}
\providecommand{\drawgrid}[2]{
    \draw (0,0) grid (#1,#2);
    \drawrowcol{#1}{#2}
}
\providecommand{\drawtwopin}[7]{
%#1= pin1 name #2,#3=pin1 location
%#4= pin1 name #5,#6=pin2 location
%#7= color
    \node[pins,#7]  (#1) at (#2 + \half, #3 + \half) {}; % pin-1
    \node[pins,#7]  (#4) at (#5  + \half, #6 + \half) {}  % pin-2
        edge[arrow] (#1);            % arrow
    %\node[above] at (#1) {$#1$}; % label
    %\node[above] at (#4) {$#4$}; % label
}
\providecommand{\drawthreepin}[9]{
%#1= pin1 name #2,#3=pin1 location
%#4= pin1 name #5,#6=pin2 location
%#7= pin1 name #8,#9=pin3 location
    \node[pins]  (#1) at (#2 + \half, #3 + \half) {}; % pin-1
    \node[pins]  (#4) at (#5  + \half, #6 + \half) {}  % pin-2
        edge[arrow] (#1);            % arrow
    \node[pins]  (#7) at (#8  + \half, #9 + \half) {}  % pin-2
        edge[arrow] (#1);            % arrow
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\begin{figure}
\centering
\begin{tikzpicture}[scale=\scale,
	%inner sep=1cm*\scale*\half,
	inner sep=0,
	minimum size=1cm*\scale,
	>=latex,
	pins/.style={rectangle,draw,fill=brown,font=\scriptsize},
	arrow/.style={->,very thick},
	block/.style={gray}]
	% define the row and column number
	\def \N{21}\def \M{21}
	% blockages
	% nets
	
\node[pins,blue] (net_1_2_5) at (2+\half,5+\half) {};
\node[pins,blue] (net_1_1_5) at (1+\half,5+\half) {};
\node[pins,blue] (net_1_0_5) at (0+\half,5+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};
\node[pins,blue] (net_1_0_6) at (0+\half,6+\half) {};

\node[pins,green] (net_2_0_7) at (0+\half,7+\half) {};
\node[pins,green] (net_2_0_8) at (0+\half,8+\half) {};
\node[pins,green] (net_2_0_9) at (0+\half,9+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};
\node[pins,green] (net_2_0_10) at (0+\half,10+\half) {};

\node[pins,orange] (net_0_16_2) at (16+\half,2+\half) {};
\node[pins,orange] (net_0_15_2) at (15+\half,2+\half) {};
\node[pins,orange] (net_0_14_2) at (14+\half,2+\half) {};
\node[pins,orange] (net_0_13_2) at (13+\half,2+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};
\node[pins,orange] (net_0_13_3) at (13+\half,3+\half) {};

\node[pins,purple] (net_4_5_7) at (5+\half,7+\half) {};
\node[pins,purple] (net_4_5_8) at (5+\half,8+\half) {};
\node[pins,purple] (net_4_5_9) at (5+\half,9+\half) {};
\node[pins,purple] (net_4_5_10) at (5+\half,10+\half) {};
\node[pins,purple] (net_4_5_11) at (5+\half,11+\half) {};
\node[pins,purple] (net_4_5_12) at (5+\half,12+\half) {};
\node[pins,purple] (net_4_4_12) at (4+\half,12+\half) {};
\node[pins,purple] (net_4_4_12) at (4+\half,12+\half) {};
\node[pins,purple] (net_4_4_12) at (4+\half,12+\half) {};
\node[pins,purple] (net_4_4_12) at (4+\half,12+\half) {};
\node[pins,purple] (net_4_4_12) at (4+\half,12+\half) {};
\node[pins,purple] (net_4_4_12) at (4+\half,12+\half) {};
\node[pins,purple] (net_4_4_12) at (4+\half,12+\half) {};
\node[pins,purple] (net_4_4_12) at (4+\half,12+\half) {};
\node[pins,purple] (net_4_4_12) at (4+\half,12+\half) {};
\node[pins,purple] (net_4_4_12) at (4+\half,12+\half) {};
\node[pins,purple] (net_4_4_12) at (4+\half,12+\half) {};
\node[pins,purple] (net_4_4_12) at (4+\half,12+\half) {};
\node[pins,purple] (net_4_4_12) at (4+\half,12+\half) {};
\node[pins,purple] (net_4_4_12) at (4+\half,12+\half) {};
\node[pins,purple] (net_4_4_12) at (4+\half,12+\half) {};

\node[pins,yellow] (net_3_7_5) at (7+\half,5+\half) {};
\node[pins,yellow] (net_3_7_6) at (7+\half,6+\half) {};
\node[pins,yellow] (net_3_7_7) at (7+\half,7+\half) {};
\node[pins,yellow] (net_3_7_8) at (7+\half,8+\half) {};
\node[pins,yellow] (net_3_7_9) at (7+\half,9+\half) {};
\node[pins,yellow] (net_3_7_10) at (7+\half,10+\half) {};
\node[pins,yellow] (net_3_7_11) at (7+\half,11+\half) {};
\node[pins,yellow] (net_3_7_12) at (7+\half,12+\half) {};
\node[pins,yellow] (net_3_8_12) at (8+\half,12+\half) {};
\node[pins,yellow] (net_3_8_12) at (8+\half,12+\half) {};
\node[pins,yellow] (net_3_8_12) at (8+\half,12+\half) {};
\node[pins,yellow] (net_3_8_12) at (8+\half,12+\half) {};
\node[pins,yellow] (net_3_8_12) at (8+\half,12+\half) {};
\node[pins,yellow] (net_3_8_12) at (8+\half,12+\half) {};
\node[pins,yellow] (net_3_8_12) at (8+\half,12+\half) {};
\node[pins,yellow] (net_3_8_12) at (8+\half,12+\half) {};
\node[pins,yellow] (net_3_8_12) at (8+\half,12+\half) {};
\node[pins,yellow] (net_3_8_12) at (8+\half,12+\half) {};
\node[pins,yellow] (net_3_8_12) at (8+\half,12+\half) {};
\node[pins,yellow] (net_3_8_12) at (8+\half,12+\half) {};
\node[pins,yellow] (net_3_8_12) at (8+\half,12+\half) {};

\node[pins,pink] (net_5_13_20) at (13+\half,20+\half) {};
\node[pins,pink] (net_5_12_20) at (12+\half,20+\half) {};
\node[pins,pink] (net_5_11_20) at (11+\half,20+\half) {};
\node[pins,pink] (net_5_10_20) at (10+\half,20+\half) {};
\node[pins,pink] (net_5_10_19) at (10+\half,19+\half) {};
\node[pins,pink] (net_5_10_18) at (10+\half,18+\half) {};
\node[pins,pink] (net_5_10_17) at (10+\half,17+\half) {};
\node[pins,pink] (net_5_10_16) at (10+\half,16+\half) {};
\node[pins,pink] (net_5_10_15) at (10+\half,15+\half) {};
\node[pins,pink] (net_5_10_14) at (10+\half,14+\half) {};
\node[pins,pink] (net_5_10_13) at (10+\half,13+\half) {};
\node[pins,pink] (net_5_10_12) at (10+\half,12+\half) {};
\node[pins,pink] (net_5_10_11) at (10+\half,11+\half) {};
\node[pins,pink] (net_5_10_10) at (10+\half,10+\half) {};
\node[pins,pink] (net_5_10_9) at (10+\half,9+\half) {};
\node[pins,pink] (net_5_10_8) at (10+\half,8+\half) {};
\node[pins,pink] (net_5_10_7) at (10+\half,7+\half) {};
\node[pins,pink] (net_5_10_6) at (10+\half,6+\half) {};
\node[pins,pink] (net_5_10_5) at (10+\half,5+\half) {};
\node[pins,pink] (net_5_11_5) at (11+\half,5+\half) {};
\node[pins,pink] (net_5_11_5) at (11+\half,5+\half) {};

\blockage{11}{6}{14}{9}
\blockage{5}{1}{7}{3}
\blockage{1}{1}{3}{3}
\drawtwopin{Dlt09}{13}{3}{Dlt04_to_Dlt09}{16}{2}{blue!70}
\drawtwopin{Dlt07_to_Dlt14}{0}{6}{Dlt07}{2}{5}{green!70}
\drawtwopin{Dlt07_to_Dlt15}{0}{10}{Dlt07}{0}{7}{orange!70}
\drawtwopin{Dlt06_to_Dlt12}{8}{12}{Dlt06}{7}{5}{purple!70}
\drawtwopin{Dlt06_to_Dlt13}{4}{12}{Dlt06}{5}{7}{yellow!70}
\drawtwopin{Dlt09}{11}{5}{B2}{13}{20}{pink!70}
\drawgrid{\N}{\M}
	\end{tikzpicture}
      \end{figure}
      \end{document}
